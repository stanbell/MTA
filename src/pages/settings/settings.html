<ion-header>
  <ion-navbar>
    <button ion-button menuToggle>
      <ion-icon name="menu"></ion-icon>
    </button>
    <ion-title>Settings</ion-title>
  </ion-navbar>
</ion-header>


<ion-content padding>
  <ion-grid>
    <ion-row>
      <ion-col col-12>
        <ion-item>
          <ion-label>
            Who may complete intake/history?
          </ion-label>
          <ion-select [(ngModel)]="biz.whoIntake">
            <ion-option value="client">Allow clients</ion-option>
            <ion-option value="user">Therapist only</ion-option>
          </ion-select>
        </ion-item>
      </ion-col>
    </ion-row>
    <ion-row>
      <ion-col col-12>
        <ion-item>
          <ion-label>
            List clients active within
          </ion-label>
          <ion-select [(ngModel)]="biz.listActive">
            <ion-option value="1m">1 Month</ion-option>
            <ion-option value="6m">6 Months</ion-option>
            <ion-option value="1y">1 Year</ion-option>
          </ion-select>
        </ion-item>
      </ion-col>
    </ion-row>
    <ion-row>
      <ion-col col-12>
        <ion-item>
          <ion-label>
            Sort client list by
          </ion-label>
          <ion-select [(ngModel)]="biz.sortClientsBy">
            <ion-option value="first">First Name</ion-option>
            <ion-option value="last">Last Name</ion-option>
          </ion-select>
        </ion-item>
      </ion-col>
    </ion-row>
    <ion-row>
      <ion-col col-12>
        <ion-item>
          <ion-label>
            Use Calendar
          </ion-label>
          <ion-select [(ngModel)]="biz.useCalendar">
            <ion-option value="native">Native (iOS or Google)</ion-option>
            <ion-option value="app">In-App Calendar</ion-option>
          </ion-select>
        </ion-item>
      </ion-col>
    </ion-row>

    <ion-row>
      <ion-col col-12>
        <ion-item>
          <ion-label>
            Who can schedule?
          </ion-label>
          <ion-select [(ngModel)]="biz.whoSchedule">
            <ion-option value="client">Clients can self-schedle</ion-option>
            <ion-option value="user">Therapist only</ion-option>
          </ion-select>
        </ion-item>
      </ion-col>
    </ion-row>
    <ion-row>
      <ion-col col-12>
        <ion-item>
          <ion-label>
            Automatically Log Out
          </ion-label>
          <ion-select [(ngModel)]="biz.autoLogOut">
            <ion-option value="yes">Log out after 2 hours idle</ion-option>
            <ion-option value="no">Don't auto log out</ion-option>
          </ion-select>
        </ion-item>
      </ion-col>
    </ion-row>
    <ion-row>
      <ion-col col-12>
        <ion-label fixed>email daily schedule to: </ion-label>
        <ion-input type="text" [(ngModel)]="biz.emailSchedule"></ion-input>
      </ion-col>
    </ion-row>
    <ion-row>
      <ion-col col-12>
        <ion-label fixed>default title for new appts: </ion-label>
        <ion-input type="text" [(ngModel)]="biz.defaultApptTitle"></ion-input>
      </ion-col>
    </ion-row>
    <ion-row>
      <ion-col col-6>
        <div>Service Types</div>
      </ion-col>
      <ion-col col-6>
        <div>Duration</div>
      </ion-col>
    </ion-row>
    <ion-row>
      <ion-col col-12>
        <ion-item>
          <ion-label>
            Accept Payments in App
          </ion-label>
          <ion-select [(ngModel)]="biz.acceptPayments">
            <ion-option value="stripe">with Stripe</ion-option>
            <ion-option value="paypal">with PayPal</ion-option>
            <ion-option value="self">My own merchant account</ion-option>
            <ion-option value="none">No, not in the app</ion-option>
          </ion-select>
        </ion-item>
      </ion-col>
    </ion-row>
  </ion-grid>
  <ion-item>
    <ion-label color="primary">External Calendar</ion-label>
  </ion-item>
  
  <ion-list radio-group [(ngModel)]="biz.calendar.provider">
    <ion-item>
      <ion-label>Apple iCal</ion-label>
      <ion-radio value="iCal"></ion-radio>
    </ion-item>
    <ion-item>
      <ion-label>Google</ion-label>
      <ion-radio value="google"></ion-radio>
    </ion-item>
    <ion-item>
      <ion-label>None, use app calendar only</ion-label>
      <ion-radio value=""></ion-radio>
    </ion-item>
  </ion-list>
  <div *ngIf="biz.calendar.provider!=''">
    <ion-item>
      <ion-label color="primary">Name</ion-label>
      <ion-input type="text" [(ngModel)]="biz.calendar.name"></ion-input>
    </ion-item>
    <ion-item>
      <ion-label color="primary">Connection Info</ion-label>
      <ion-checkbox [(ngModel)]="biz.calendar.connectionInfo"></ion-checkbox>
    </ion-item>
  </div>
  <div *ngIf="biz.calendar.acceptPayments!='none'">
    <ion-item>
      <ion-label color="primary">Stripe Publishable Key</ion-label>
      <ion-input type="text" [(ngModel)]="biz.stripe.publishableKey"></ion-input>
    </ion-item>
  </div>
    <ion-row>
      <ion-col col-12>
    <button ion-button (click)="save()">Save</button>
    <button ion-button (click)="cancel()">Cancel</button>
      </ion-col>
    </ion-row>
    <!-- <button ion-button [disabled]="!biz.businessName" (click)="save()">Save</button> -->
</ion-content>