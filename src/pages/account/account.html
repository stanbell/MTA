<ion-header>

  <ion-navbar>
    <ion-title>MTA Account</ion-title>
  </ion-navbar>

</ion-header>


<ion-content padding>
  <ion-item>
    <p class="box">My MTA User Account</p>
  </ion-item>
  <ion-item>
    <ion-label class="checkOption">User ID</ion-label>
  </ion-item>
  <ion-item no-lines>
    <div>{{nu.id}}</div>
    <!-- <ion-input disabled [(ngModel)]="nu.id"></ion-input> -->
  </ion-item>
  <br><br>
  <ion-item>
    <p class="box">Update Credit Card Information</p>
  </ion-item>
  <ion-item no-lines>
    <p class="advise">Credit card information you supply here will replace your previous card information. Your previous
      card information will be securely removed.</p>
  </ion-item>
  <ion-item>
    <ion-label class="checkOption">Name on card</ion-label>
  </ion-item>
  <ion-item no-lines>
    <ion-input type="text" [(ngModel)]="nu.billing.ccName">
    </ion-input>
  </ion-item>
  <ion-item>
    <ion-label class="checkOption">Card Number</ion-label>
  </ion-item>
  <ion-item no-lines>
    <ion-input type="text" [(ngModel)]="nu.billing.cc">
    </ion-input>
  </ion-item>
  <ion-item>
    <ion-label class="checkOption">Expiration Date</ion-label>
  </ion-item>
  <ion-item no-lines>
    <ion-datetime [(ngModel)]="nu.billing.expDate">
    </ion-datetime>
  </ion-item>
  <ion-item>
    <ion-label class="checkOption">Security Code</ion-label>
  </ion-item>
  <ion-item no-lines>
    <ion-input type="number" [(ngModel)]="nu.billing.secCode">
    </ion-input>
  </ion-item>
  <ion-item no-lines>
    <button ion-button [disabled]="!ccName || !cc || !expDate || !secCode" (click)="updateBilling()">Update</button><br>
  </ion-item>
  <br><br>

  <ion-item>
    <p class="box">Reset Password</p>
  </ion-item>

  <ion-item>
    <ion-label class="checkOption">New Password</ion-label>
  </ion-item>
  <ion-item no-lines>
    <ion-input type="password" [(ngModel)]="newPwd"></ion-input>
  </ion-item>
  <ion-item>
    <ion-label class="checkOption">Repeat New Password</ion-label>
  </ion-item>
  <ion-item no-lines>
    <ion-input type="password" [(ngModel)]="verifyPwd"></ion-input>
  </ion-item>
  <ion-item no-lines>
    <button ion-button [disabled]="!newPwd || !verifyPwd" (click)="resetPwd()">Reset</button><br>
  </ion-item>


  <br><br>
  <div *ngIf="ontheWeb">
  <ion-item>
    <p class="box">Cancel My MTA User Account</p>
  </ion-item>
  <ion-item no-lines>
    <p class="advise">Re-type your MTA User ID to confirm your intent to cancel.</p>
    <p class="advise">Your subscription will be discontinued when your current subscription period ends.</p>
    <p class="advise">Information stored for you by the app will be retained for thirty (30) days after your
      subscription is discontinued. After 30 days, all information stored with your account will be removed securely.
      Once removed, information with NOT be recoverable. We suggest you use the data export feature to download your
      data before cancelling your account.</p>
    <p class="advise">Your credit card information will be securely removed immediately.</p>
  </ion-item>
  <ion-item no-lines>
    <button ion-button (click)="gotoDownload()">Download My Data</button><br>
  </ion-item>
  <br>
    <ion-item>
      <ion-label class="checkOption">Retype User ID to Confirm</ion-label>
    </ion-item>
    <ion-item no-lines>
      <ion-input [(ngModel)]="confirmId"></ion-input>
    </ion-item>
  <ion-item no-lines>
    <button ion-button [disabled]="confirmId !== nu._id" (click)="cancelAccount()">Cancel My Account</button><br>
  </ion-item>
  <ion-item no-lines>
    <p class="advise">We respectfully request you tell us why you're
      cancelling.</p>
  </ion-item>
  <ion-item no-lines>
    <a href="mailto:feedback@dcsbdn.us?subject=Why am I cancelling My Therapy Assitant">Email Us</a>
  </ion-item>
  </div>
</ion-content>