<ion-header>

  <ion-navbar>
    <ion-title>Sign Up</ion-title>
  </ion-navbar>

</ion-header>


<ion-content padding>
  <ion-item>
    <ion-label class="checkOption">Business Name</ion-label>
  </ion-item>
  <ion-item no-lines>
    <ion-input type="text" [(ngModel)]="nu.businessName">
    </ion-input>
  </ion-item>
  <ion-item>
    <ion-label class="checkOption">Credit Card Information</ion-label>
  </ion-item>
  <ion-item>
    <ion-label class="checkOption">Name on card</ion-label>
  </ion-item>
  <ion-item no-lines>
    <ion-input type="text" [(ngModel)]="nu.billing.ccName">
    </ion-input>
  </ion-item>
  <ion-item>
    <ion-label class="checkOption">Card Number</ion-label>
  </ion-item>
  <ion-item no-lines>
    <ion-input type="text" [(ngModel)]="nu.billing.cc">
    </ion-input>
  </ion-item>
  <ion-item>
    <ion-label class="checkOption">Expiration Date</ion-label>
  </ion-item>
  <ion-item no-lines>
    <ion-datetime [(ngModel)]="nu.billing.expDate">
    </ion-datetime>
  </ion-item>
  <ion-item>
    <ion-label class="checkOption">Security Code</ion-label>
  </ion-item>
  <ion-item no-lines>
    <ion-input type="number" [(ngModel)]="nu.billing.secCode">
    </ion-input>
  </ion-item>

  <ion-item>
    <ion-label class="checkOption">User ID</ion-label>
  </ion-item>
  <ion-item no-lines>
    <ion-input [disabled]="available" [(ngModel)]="nu._id"></ion-input>
  </ion-item>
  <ion-item no-lines *ngIf='!available'>
    <button ion-button [disabled]="!nu._id" (click)="pwdAvailable()">Check Availability</button><br>
  </ion-item>
  <ion-item no-lines *ngIf='available'>
    <button ion-button (click)="available=false; nu._id='';">Choose Another ID</button><br>
  </ion-item>
  <div *ngIf="available">
    <ion-item>
      <ion-label class="checkOption">Password</ion-label>
    </ion-item>
    <ion-item no-lines>
      <ion-input type="password" [(ngModel)]="nu.pwd"></ion-input>
    </ion-item>
    <ion-item>
      <ion-label class="checkOption">Verify Password</ion-label>
    </ion-item>
    <ion-item no-lines>
      <ion-input type="password" [(ngModel)]="verifyPwd"></ion-input>
    </ion-item>
    <ion-item no-lines>
      <button ion-button [disabled]="!nu.businessName || !nu._id || !nu.pwd || (verifyPwd !== nu.pwd)" (click)="signup()">Complete Setup</button><br>
    </ion-item>
  </div>
</ion-content>